(function(h,f){if(typeof define==="function"&&define.amd)define(f);else h.viewport=f()})(this,function(){function h(){var a={width:p(),height:g.clientHeight};j={width:a.width,height:a.height}}function f(){clearTimeout(k);k=setTimeout(h,100)}function q(a,b){return function(){var c=true,d=true,e=true,l=true,m=true,i=j;if(a.width){c=i.width>=a.width[0];d=a.width[1]?i.width<=a.width[1]:true}if(a.height){e=i.height>=a.height[0];l=a.height[1]?i.height<=a.height[1]:true}if(a.condition)m=a.condition();if(b){console.log("\n"+
a.name+"\n--------------");console.log("  wmin: "+(a.width&&a.width[0]>=0?a.width[0]:""));console.log("  wmax: "+(a.width&&a.width[1]>=0?a.width[1]:""));console.log("  hmin: "+(a.height&&a.height[0]>=0?a.height[0]:""));console.log("  hmax: "+(a.height&&a.height[1]>=0?a.height[1]:""));console.log("  cond: "+(a.condition?a.condition:""))}return c&&d&&e&&l&&m}}function n(a,b){this.vps={};this.viewports=a;this.options=b||{};this.length=a.length;for(var c in o)this.options.hasOwnProperty(c)||(this.options[c]=
o[c]);this.options.debug&&console.log("\nOptions:",this.options);for(c=0;c<this.length;c++){var d=this.viewports[c];this.vps[d.name]=d;this.vps[d.name].test=q(d,this.options.debug);if(this.options.modernize){d=this.vps[d.name];var e=window.Modernizr;e&&e.addTest&&e.addTest(d.name,d.test)}}return this}var k,g=document.documentElement,j={width:0,height:0},o={debug:false,modernize:false},p=function(){var a,b,c=document.head||document.getElementsByTagName("head")[0],d=function(){return window.innerWidth},
e=function(){return g.clientWidth};if(window.innerWidth!==undefined){b=document.createElement("body");b.style.cssText="overflow:scroll";a=document.createElement("div");a.id="viewportjs-div-test-element";a.style.cssText="position:absolute;top:-1000px;";a.innerHTML=["<style>","@media( width:"+g.clientWidth+"px ) {","#viewportjs-div-test-element {width:10px !important}}</style>"].join("");b.appendChild(a);g.insertBefore(b,c);a=a.offsetWidth===10?e:d}g.removeChild(b);return a}();n.prototype={is:function(a){var b=
this.current();if(!a)return b;return b.name===a},current:function(){var a;this.viewports.reverse();for(var b=0;b<this.viewports.length;b++){var c=this.viewports[b];if(this.vps[c.name].test())a=c}this.viewports.reverse();return a},matches:function(a){return this.vps[a].test()},get:function(a){return this.vps[a]}};if("addEventListener"in window){window.addEventListener("resize",f);window.addEventListener("orientationchange",f)}else window.attachEvent("onresize",f);h();return function(a,b){return new n(a,
b)}});